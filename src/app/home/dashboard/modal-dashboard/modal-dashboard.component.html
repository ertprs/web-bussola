<div class="modal-dialog modal-dialog-scrollable m-0 h-100" role="document">
	<div class="modal-content">
		<div class="modal-header">
			<div class="container p-0">
				<div class="pl-3 mheader row">
					<h5 class="modal-title" id="exampleModalLabel">Anotações</h5>
					<div class="div-btn-nova-anotacao">
						<button type="button" class="close" (click)="close()">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal-body pb-2 pt-2">
			<div *ngIf="true" class="container">
				<div class="row">
					<div class="w-100">
						<div class="collapse" id="collapseExample">
							<div>
								<div>
									<textarea
										[(ngModel)]="description"
										class="form-control"
										rows="4"
										cols="58"
										[maxLength]="300"
										pInputTextarea
									></textarea>
									<span class="float-left">{{ 300 - description.length }}</span>
								</div>
							</div>
							<p-button
								class="float-right mt-1 ml-1"
								(click)="postAnnotation()"
								data-toggle="collapse"
								data-target="#collapseExample"
								label="Enviar"
							>
							</p-button>
							<p-fileUpload
								class="float-right mt-1"
								mode="basic"
								name="anexo"
								url=""
								maxFileSize="1000000"
								label="Anexo"
							></p-fileUpload>
						</div>
					</div>
					<button
						class="btn btn-link mx-auto p-0 mb-4"
						type="button"
						data-toggle="collapse"
						data-target="#collapseExample"
					>
						Nova anotação
					</button>
				</div>
			</div>

			<div *ngFor="let annotation of annotations" class="mb-3">
				<div class="mb-2">
					<div class="shadow-sm rouded bg-lightblue fit-content mx-auto">
						<span class="m-2 fit-content">{{
							formatDate(annotation.createAt)
						}}</span>
					</div>
				</div>
				<div>
					<div class="card mb-2">
						<div class="card-body bg-light">
							<strong class="card-title">{{ annotation.createdBy }}</strong>
							<p>
								<a
									*ngIf="check(annotation.description)"
									href="http://{{ annotation.description }}"
									target="_blank"
									class="card-text"
								>
									{{ annotation.description }}
								</a>

								<span *ngIf="!check(annotation.description)" class="card-text">
									{{ annotation.description }}
								</span>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
